"use strict";(self.webpackChunkITSP=self.webpackChunkITSP||[]).push([[91],{5091:(D,m,u)=>{u.r(m),u.d(m,{default:()=>Q});var d=u(6814),c=u(846),g=u(8733),s=u(6223),b=u(2135),C=u(1818),f=u(8034),t=u(5879),p=u(5401),h=u(7700);function A(n,l){1&n&&(t.TgZ(0,"div",27)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const Z=function(n,l){return[n,l]};function x(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewBlog(r))}),t.TgZ(6,"h4",18),t._uU(7),t.qZA()(),t.TgZ(8,"ul")(9,"li"),t._uU(10),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.qZA(),t.TgZ(13,"li"),t._uU(14,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629: \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0635\u062d\u0629 \u0627\u0644\u0645\u0635\u0631\u064a\u0629"),t.qZA()(),t.TgZ(15,"div",19)(16,"a",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewBlog(r))}),t._UZ(17,"i",21),t.qZA(),t.TgZ(18,"a",22),t.ALo(19,"localize"),t._UZ(20,"i",23),t.qZA(),t.TgZ(21,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.deleteBlog(r.id,r.title))}),t._UZ(22,"i",25),t.qZA()()()()()(),t.YNc(23,A,3,0,"div",26),t.ALo(24,"filter"),t.qZA()}if(2&n){const e=l.$implicit,o=t.oxw();t.xp6(7),t.hij(" ",e.title," "),t.xp6(3),t.hij("\u0627\u0644\u0642\u0633\u0645: ",e.type,""),t.xp6(2),t.hij("\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",e.date,""),t.xp6(6),t.Q6J("routerLink",t.WLB(10,Z,t.lcZ(19,5,"/dashboard/blogs/add-blog"),e.id)),t.xp6(5),t.Q6J("ngIf",0===t.xi3(24,7,o.blogsList,o.searchQuery).length&&!o.loading)}}let T=(()=>{class n{constructor(e,o,i,r){this.router=e,this.localize=o,this.bolgsService=i,this.dialog=r,this.loading=!1,this.blogsList=[],this.searchQuery=""}ngOnInit(){this.getBlogsList(),this.prepareNavBar()}prepareNavBar(){this.bolgsService.initializeNavItems()}getBlogsList(e=1){this.loading=!0,this.bolgsService.getBlogsList({page:e}).subscribe({next:o=>{this.currentPage=o.data.current_page,this.totalPages=o.data.last_page,this.blogsList=o.data.data,this.loading=!1}})}onPageChange(e){this.getBlogsList(e)}viewBlog(e){if(e){const o=this.localize.translateRoute("/dashboard/blogs/view-blog");this.router.navigate([o,e.id])}else console.error("No employee to view")}deleteBlog(e,o){this.dialog.open(f.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${o} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.bolgsService.DeleteBlog(e.toString()).subscribe({next:a=>{this.getBlogsList()},error:a=>{console.error("There was an error deleting the admin!",a)}})})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(c.F0),t.Y36(g.An),t.Y36(p.Q),t.Y36(h.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-blogs-list"]],standalone:!0,features:[t.jDz],decls:14,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],[1,"mb-4","filterForm"],[1,"col-lg-7","mb-lg-2","mb-2"],[1,"input-group"],[1,"btn"],[1,"fa-solid","fa-magnifying-glass"],["type","search","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mx-0"],["class","col-md-6 mb-1",4,"ngFor","ngForOf"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-6","mb-1"],[1,"card","mb-3","border-0"],[1,"row","g-0","align-items-center"],[1,"col-12"],[1,"card-body"],[2,"cursor","pointer",3,"click"],[1,"card-title"],[1,"col-12","text-end"],[1,"btn","show",3,"click"],[1,"fa-regular","fa-eye"],[1,"btn","mx-2","edit",3,"routerLink"],[1,"fa-regular","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["class","text-center col-12",4,"ngIf"],[1,"text-center","col-12"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(a){return i.searchQuery=a}),t.qZA()()()()(),t.TgZ(10,"div",9),t.YNc(11,x,25,13,"div",10),t.ALo(12,"filter"),t.qZA(),t.TgZ(13,"pagination",11),t.NdJ("pageChange",function(a){return i.onPageChange(a)}),t.qZA()()()()),2&o&&(t.xp6(9),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,4,i.blogsList,i.searchQuery)),t.xp6(2),t.Q6J("currentPage",i.currentPage)("totalPages",i.totalPages))},dependencies:[d.ez,d.sg,d.O5,s.u5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,b.u,c.Bz,c.rH,g.fQ,g.lO,C.Q],styles:[".tabs[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 6px #0000001a;color:var(--dashboard1)}button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}a.show[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid var(--dashboard2);border-radius:8px}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--dashboard2);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}"]})}return n})();var _=u(7728),M=u(4286),B=u(5123),y=u(9172);const O=["fileInput"];function F(n,l){if(1&n&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function P(n,l){if(1&n&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function w(n,l){if(1&n&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.full_name," ")}}function L(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",50)(1,"label",51)(2,"div",52),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.openInNewWindow(r.original))}),t._UZ(3,"app-truncate-text",53),t.qZA(),t.TgZ(4,"button",54),t.NdJ("click",function(){const r=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeAttachment(r))}),t._UZ(5,"i",55),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(3),t.Q6J("text",e.original)("limit",25)}}const U=function(n){return[n]};let v=(()=>{class n{constructor(e,o,i,r,a,z,S,Y){this.activatedRoute=e,this.blogsService=o,this.fb=i,this.localize=r,this.router=a,this._MessagesService=z,this.employeesService=S,this.IMS=Y,this.blogId="",this.isEditMode=!1,this.selectedFile=null,this.conversions=[],this.institutesList=[],this.categoriesList=[],this.employeesList=[],this.attachments=[],this.addBlogForm=this.fb.group({title:["",s.kI.required],date:["",s.kI.required],descriptions:["",s.kI.required],type:["",s.kI.required],employees_id:["",s.kI.required],categories_id:["",s.kI.required],institutes_id:["",s.kI.required],countries_id:[""],attachment:[null]})}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const o=e.get("id");o&&(this.blogId=o,this.isEditMode=!0,this.blogsService.GetBlogById(o).subscribe(i=>{i&&i.data&&this.setFormValues(i.data)}))}),this.getEmployeesList(),this.getCategoriesList(),this.getInstitutesList(),this.prepareNavBar()}prepareNavBar(){this.blogsService.initializeNavItems()}getEmployeesList(){this.employeesService.GetEmployeesList().subscribe({next:e=>{this.employeesList=e.data.data},error:e=>{console.error("Failed to get employees:",e)}})}getCategoriesList(){this.IMS.GetCategoriesList().subscribe({next:e=>{this.categoriesList=e.data.data},error:e=>{console.error("Failed to get categories:",e)}})}getInstitutesList(){this.IMS.GetInstituteList().subscribe({next:e=>{this.institutesList=e.data.data},error:e=>{console.error("Failed to get institutes:",e)}})}setFormValues(e){this.addBlogForm.patchValue({title:e.title||"",date:e.date||"",descriptions:e.descriptions||"",type:e.type||"",employees_id:e.employees_id||"",_method:e._method||"",categories_id:e.categories_id||"",institutes_id:e.institutes_id||"",countries_id:e.countries_id||""}),e.conversion_urls&&e.conversion_urls.forEach(o=>{this.conversions.push({original:o.original,conversions:o.conversions})})}openInNewWindow(e){window.open(e,"_blank")}onFileChange(e){const o=e.target.files[0];this.selectedFile=o,this.attachments.push({name:o.name,path:"",file:o}),this.conversions.push({original:o.name}),this.fileInput.nativeElement.value=""}removeAttachment(e){this.conversions.splice(e,1)}addBlog(){if(this.addBlogForm.valid){const o={...this.addBlogForm.value,countries_id:1,attachment:this.attachments.map(i=>i.file).filter(i=>i instanceof File)};this.blogsService.AddBlog(o).subscribe({next:i=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0642\u0627\u0644",3e3),this.navigateToBlogsList()},error:i=>{console.error("Failed to edit blog:",i)}})}}updateBlog(){if(this.addBlogForm.valid){const i={...this.addBlogForm.value,_method:"PATCH",attachment:this.attachments.map(r=>r.file).filter(r=>r instanceof File)||[]};this.blogsService.UpdateBlog(this.blogId,i).subscribe({next:r=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0642\u0627\u0644",3e3),this.navigateToBlogsList()},error:r=>{console.error("Failed to edit admin:",r)}})}}navigateToBlogsList(){const e=this.localize.translateRoute("/dashboard/blogs");this.router.navigate([e])}navigateToAddBlog(){const e=this.localize.translateRoute("/dashboard/blogs/add-blog");this.router.navigate([e])}onSubmit(){this.addBlogForm.valid&&(this.isEditMode?this.updateBlog():this.addBlog())}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(c.gz),t.Y36(p.Q),t.Y36(s.qu),t.Y36(g.An),t.Y36(c.F0),t.Y36(M.K),t.Y36(B.M),t.Y36(y.K))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-blog"]],viewQuery:function(o,i){if(1&o&&t.Gf(O,5),2&o){let r;t.iGM(r=t.CRH())&&(i.fileInput=r.first)}},standalone:!0,features:[t.jDz],decls:83,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["id","pills-tabContent",1,"tab-content","p-3"],["id","addArticles","role","tabpanel","aria-labelledby","addArticles-tab","tabindex","0",1,"tab-pane","fade","show","active"],["action","",1,"addArticleForm",3,"formGroup","ngSubmit"],[1,"row","g-0"],[1,"col-md-3","p-2","text-center"],[1,"col-md-9"],[1,"card-body"],[1,"col-12","mb-3","text-end"],[1,"btn","px-4","back",3,"routerLink"],[1,"form-group","col-12","mb-3"],["for","articleName",1,"form-label"],["type","text","name","title","formControlName","title","value","\u0637\u0644\u0628\u062a \u0635\u0646\u0627\u0639\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062a\u0648\u0646\u064a\u0646 \u062a\u0634\u062f\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u064a\u064a\u0631 \u0637\u0648\u0639\u064b\u0627 \u0628\u0639\u062f \u0627\u0644\u0627\u0631\u062a\u0641\u0627\u0639 \u0627\u0644\u0643\u0628\u064a\u0631 \u0641\u064a \u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0648\u0627\u0631\u0626 \u0644\u0644\u0623\u0637\u0641\u0627\u0644",1,"form-control","form-control-lg"],[1,"form-group","col-md-6","mb-3"],[1,"form-label"],["type","radio","name","type","formControlName","type","value","news","id","news","hidden",""],["for","news",1,"px-5","py-2","mx-2"],["type","radio","name","type","formControlName","type","value","laws","id","laws","checked","","hidden",""],["for","laws",1,"px-5","py-2"],["for","ArticleCategory",1,"form-label"],["name","categories_id","formControlName","categories_id","id","ArticleCategory",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","ArticleInistitute",1,"form-label"],["name","institutes_id","formControlName","institutes_id","id","ArticleInistitute",1,"form-select"],["name","employees_id","formControlName","employees_id","id","ArticleInistitute",1,"form-select"],["for","ArticleDate",1,"form-label"],[1,"input-group"],["name","date","formControlName","date","type","date","id","ArticleDate","value","2024-05-25",1,"form-control"],["for","ArticleDate",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["for","ArticleDescription",1,"form-label"],["name","descriptions","formControlName","descriptions","id","ArticleDescription","cols","30","rows","8",1,"form-control"],[1,"fw-normal"],[1,"row","g-2","attatchmentFiles"],["class","col-md-4 col-sm-6 col-12",4,"ngFor","ngForOf"],[1,"text-end","mb-2","addArticleAttachment"],[1,"btn"],[1,"fa-solid","fa-plus"],[1,"input-group-vertical"],["for","ArticleAttatchmentType0",1,"input-group-text"],["name","AttatchmentType[]","id","ArticleAttatchmentType0",1,"form-select"],["value","pdf"],["value","image"],["type","file","formControlName","attachment","name","attachment","id","uploadArticle0","hidden","",3,"change"],["fileInput",""],["for","uploadArticle0",1,"input-group-text","justify-content-center","py-5"],["type","submit",1,"btn","px-5",3,"disabled"],[3,"value"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","align-items-center","p-1","justify-content-between"],[2,"cursor","pointer",3,"click"],[3,"text","limit"],[1,"btn",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"div",6),t._UZ(7,"div",7),t.TgZ(8,"div",8)(9,"div",9)(10,"div",1)(11,"div",10)(12,"a",11),t.ALo(13,"localize"),t._uU(14,"\u0631\u062c\u0648\u0639"),t.qZA()()()()()(),t.TgZ(15,"div",1)(16,"div",12)(17,"label",13),t._uU(18,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0642\u0627\u0644*"),t.qZA(),t._UZ(19,"input",14),t.qZA(),t.TgZ(20,"div",15)(21,"p",16),t._uU(22,"\u0627\u0644\u0646\u0648\u0639*"),t.qZA(),t._UZ(23,"input",17),t.TgZ(24,"label",18),t._uU(25,"\u0627\u062e\u0628\u0627\u0631"),t.qZA(),t._UZ(26,"input",19),t.TgZ(27,"label",20),t._uU(28,"\u0642\u0648\u0627\u0646\u064a\u0646"),t.qZA()(),t.TgZ(29,"div",15)(30,"label",21),t._uU(31,"\u0627\u0644\u0642\u0633\u0645*"),t.qZA(),t.TgZ(32,"select",22),t.YNc(33,F,2,2,"option",23),t.qZA()(),t.TgZ(34,"div",15)(35,"label",24),t._uU(36,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629*"),t.qZA(),t.TgZ(37,"select",25),t.YNc(38,P,2,2,"option",23),t.qZA()(),t.TgZ(39,"div",15)(40,"label",24),t._uU(41,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646*"),t.qZA(),t.TgZ(42,"select",26),t.YNc(43,w,2,2,"option",23),t.qZA()(),t.TgZ(44,"div",15)(45,"label",27),t._uU(46,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e*"),t.qZA(),t.TgZ(47,"div",28),t._UZ(48,"input",29),t.TgZ(49,"label",30),t._UZ(50,"i",31),t.qZA()()(),t.TgZ(51,"div",12)(52,"label",32),t._uU(53," \u0627\u0644\u0648\u0635\u0641* "),t.qZA(),t.TgZ(54,"textarea",33),t._uU(55,"                "),t.qZA()(),t.TgZ(56,"div",12)(57,"ul")(58,"li")(59,"h5",34),t._uU(60,"\u0627\u0644\u0645\u0644\u062d\u0642\u0627\u062a:"),t.qZA()()(),t.TgZ(61,"div",35),t.YNc(62,L,6,2,"div",36),t.qZA()(),t.TgZ(63,"div",12)(64,"div",37)(65,"button",38),t._UZ(66,"i",39),t.qZA()(),t.TgZ(67,"div",40)(68,"div",28)(69,"label",41),t._uU(70,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u062d\u0642"),t.qZA(),t.TgZ(71,"select",42)(72,"option",43),t._uU(73,"pdf"),t.qZA(),t.TgZ(74,"option",44),t._uU(75,"image"),t.qZA()()(),t.TgZ(76,"input",45,46),t.NdJ("change",function(a){return i.onFileChange(a)}),t.qZA(),t.TgZ(78,"label",47),t._uU(79," \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0644\u0641 \u0645\u0646 \u062c\u0647\u0627\u0632\u0643"),t.qZA()()(),t.TgZ(80,"div",12)(81,"button",48),t._uU(82," \u062d\u0641\u0638 "),t.qZA()()()()()()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",i.addBlogForm),t.xp6(7),t.Q6J("routerLink",t.VKq(9,U,t.lcZ(13,7,"/dashboard/blogs"))),t.xp6(21),t.Q6J("ngForOf",i.categoriesList),t.xp6(5),t.Q6J("ngForOf",i.institutesList),t.xp6(5),t.Q6J("ngForOf",i.employeesList),t.xp6(19),t.Q6J("ngForOf",i.conversions),t.xp6(19),t.Q6J("disabled",i.addBlogForm.invalid))},dependencies:[d.ez,d.sg,c.Bz,c.rH,g.fQ,g.lO,s.u5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.JL,s.UX,s.sg,s.u,_.H],styles:[".tab-content[_ngcontent-%COMP%]{border-radius:4px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--dashboard1)}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:var(--main);color:#115a8b}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--main);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}form[_ngcontent-%COMP%]   .input-group-vertical[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%] + .input-group-text[_ngcontent-%COMP%]{color:var(--dashboard1);background-color:transparent;border:none}"]})}return n})();function I(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",26)(2,"div",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openInNewWindow(r.originalPath))}),t._UZ(3,"app-truncate-text",20),t.qZA(),t.TgZ(4,"button",28),t._UZ(5,"i",29),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(3),t.Q6J("text",e.originalPath)("limit",25)}}const k=function(n,l){return[n,l]};function N(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.qZA(),t.TgZ(4,"div",9)(5,"div",10)(6,"div",1)(7,"div",11)(8,"h4",12),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"a",14),t.ALo(12,"localize"),t._uU(13,"\u062a\u0639\u062f\u064a\u0644 "),t._UZ(14,"i",15),t.qZA(),t.TgZ(15,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteBlog(i.blog.id,i.blog.title))}),t._uU(16," \u062d\u0630\u0641 "),t._UZ(17,"i",17),t.qZA()()(),t.TgZ(18,"div",18)(19,"ul")(20,"li"),t._uU(21),t.qZA(),t.TgZ(22,"li"),t._uU(23),t.qZA(),t.TgZ(24,"li"),t._uU(25,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629: \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0635\u062d\u0629 \u0627\u0644\u0645\u0635\u0631\u064a\u0629"),t.qZA()()()()(),t.TgZ(26,"div",19),t._UZ(27,"app-truncate-text",20),t.qZA(),t.TgZ(28,"div",21)(29,"ul")(30,"li")(31,"h5",22),t._uU(32,"\u0627\u0644\u0645\u0644\u062d\u0642\u0627\u062a:"),t.qZA()()(),t.TgZ(33,"div",23),t.YNc(34,I,6,2,"div",24),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.hij(" ",e.blog.title," "),t.xp6(2),t.Q6J("routerLink",t.WLB(9,k,t.lcZ(12,7,"/dashboard/blogs/add-blog"),e.blog.id)),t.xp6(10),t.hij("\u0627\u0644\u0642\u0633\u0645: ",e.blog.type,""),t.xp6(2),t.hij("\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",e.blog.date,""),t.xp6(4),t.Q6J("text",e.blog.descriptions)("limit",2e3),t.xp6(7),t.Q6J("ngForOf",e.attachments)}}function J(n,l){1&n&&(t.TgZ(0,"div",30)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const Q=[{path:"",component:(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-blogs"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(o,i){1&o&&t._UZ(0,"router-outlet")},dependencies:[d.ez,c.lC]})}return n})(),children:[{path:"",component:T},{path:":slug",component:v,data:{breadcrumbs:[{label:" \u0625\u0636\u0627\u0641\u0629 \u0645\u0642\u0627\u0644",url:"/dashboard//blogs/add-blog"}]}},{path:"add-blog/:id",component:v,data:{breadcrumbs:[{label:" \u062a\u0639\u062f\u064a\u0644 \u0645\u0642\u0627\u0644",url:""}]}},{path:"view-blog/:id",component:(()=>{class n{constructor(e,o,i,r,a){this.router=e,this.localize=o,this.bolgsService=i,this.dialog=r,this.activatedRoute=a,this.blogId="",this.attachments=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const o=e.get("id");o&&(this.blogId=o,this.bolgsService.GetBlogById(o).subscribe(i=>{i&&i.data&&(this.blog=i.data,this.blog.conversion_urls&&this.blog.conversion_urls.forEach(r=>{this.attachments.push({originalPath:r.original,conversions:r.conversions})}))}))})}deleteBlog(e,o){this.dialog.open(f.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${o} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.bolgsService.DeleteBlog(e.toString()).subscribe({next:a=>{this.navigateToBlogsList()},error:a=>{console.error("There was an error deleting the admin!",a)}})})}removeAttachment(e){this.attachments.splice(e,1)}openInNewWindow(e){window.open(e,"_blank")}navigateToBlogsList(){const e=this.localize.translateRoute("/dashboard/blogs");this.router.navigate([e])}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(c.F0),t.Y36(g.An),t.Y36(p.Q),t.Y36(h.uw),t.Y36(c.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-blog"]],standalone:!0,features:[t.jDz],decls:5,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["class","card mb-3 p-2 border-0",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card","mb-3","p-2","border-0"],[1,"row","g-0"],[1,"col-md-3","p-2","text-center"],["src","./assets/images/articleImage.png","alt","Article Image",1,"img-fluid"],[1,"col-md-9","mb-2"],[1,"card-body"],[1,"col-md-6","order-md-1","order-2"],[1,"card-title"],[1,"col-md-6","order-md-2","order-1","mb-md-0","mb-2","text-end"],[1,"btn","mx-2","px-4","edit",3,"routerLink"],[1,"fa-regular","fa-pen-to-square"],[1,"btn","delete","px-4",3,"click"],[1,"fa-regular","fa-trash-can"],[1,""],[1,"description","padd","mb-2"],[3,"text","limit"],[1,"form-group","padd","col-12","mb-3"],[1,"fw-normal"],[1,"row","g-2","attatchmentFiles"],["class","col-md-4 col-sm-6 col-12",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","align-items-center","p-1","justify-content-between"],[2,"cursor","pointer",3,"click"],[1,"btn"],[1,"fa-solid","fa-download"],[1,"text-center"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,N,35,12,"div",3),t.YNc(4,J,3,0,"div",4),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("ngIf",i.blog),t.xp6(1),t.Q6J("ngIf",!i.blog))},dependencies:[d.ez,d.sg,d.O5,c.Bz,c.rH,g.fQ,g.lO,_.H],styles:[".padd[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}button.delete[_ngcontent-%COMP%]{background:var(--danger);color:#fff}.card[_ngcontent-%COMP%]{box-shadow:0 5px 14px #0000000d;color:var(--main)}.attatchmentFiles[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{background-color:var(--dashboard2);color:#fff;border-radius:10px}.attatchmentFiles[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:var(--dashboard2)}"]})}return n})()}]}]}}]);